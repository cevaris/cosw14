<%= form_for(@photo_session) do |f| %>
  <% if @photo_session.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@photo_session.errors.count, "error") %> prohibited this photo_session from being saved:</h2>

      <ul>
      <% @photo_session.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %>
    <%= f.text_field :name, placeholder:'Enter Name', style:'width: 300px'%>
  </div>
  <div class="field">
    <%= f.label :phones %>
    <%= f.hidden_field :phone_list, placeholder:'Enter Phone Numbers', style:'width: 300px'%>  
  </div>
  <div class="field">
    <%= f.label :emails %>
    <%= f.hidden_field :email_list, placeholder:'Enter Emails', style:'width: 300px'%>  
    <br />
  </div>

  <br/>
  <div class="field">
    <%= f.label :photos %>
    <%= f.fields_for :photos do |asset_fields| %>
      <% if asset_fields.object.new_record? %>

        <div class="fileupload fileupload-new" data-provides="fileupload">
          <span class="btn btn-file">
            <span class="fileupload-new">Select file</span>
            <span class="fileupload-exists">Change</span>
            <%= asset_fields.file_field :image %>
          </span>
          <span class="fileupload-preview"></span>
          <br/><br/>
        </div>

      <% end %>
    <% end %>
  </div>

  <div class="actions"><br />
    <%= f.submit 'Submit', class:'btn btn-primary' %>
  </div>
<% end %>



<script>
  $("#photo_session_phone_list").select2({ 
    tags: [], 
    placeholder: "Enter Phone Numbers",
    tokenSeparators: [",", " "],
    minimumInputLength: 1
  });
  $("#photo_session_email_list").select2({ 
    tags: [],
    placeholder: "Enter Emails",
    tokenSeparators: [",", " "],
    minimumInputLength: 1
  });
</script>






